import{a as i}from"./chunk-BYLLDUDU.js";import{L as l,Q as g,T as v,U as C,Va as I,W as p,Y as A,Z as P,b as s,c,g as e,ia as S,n as u,na as b,u as d,v as h,w as f}from"./chunk-CLQQFUUR.js";import"./chunk-B5Q7V33N.js";import"./chunk-7KGURMOZ.js";import"./chunk-MEY4KOAF.js";import"./chunk-K4BOZHCE.js";import"./chunk-VKOJ4YFE.js";import"./chunk-URA66MOF.js";import"./chunk-R5HL6L5F.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-L7HKPRYE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var x=(t,a)=>{let r=e(i),o=e(p);return r.isAuthenticated()?!0:(o.navigate(["/auth/login"],{queryParams:{returnUrl:a.url}}),!1)};var R=(t,a)=>{let r=e(i),o=e(p);return r.isAuthenticated()&&r.isAdmin()?!0:(o.navigate(["/dashboard"]),!1)};var j=(t,a)=>{let r=e(i),o=e(p);return r.isAuthenticated()?(o.navigate(["/dashboard"]),!1):!0};var D=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"auth",canActivate:[j],children:[{path:"login",loadComponent:()=>import("./chunk-5JESKUK6.js").then(t=>t.LoginPage)},{path:"register",loadComponent:()=>import("./chunk-2NXUWLOI.js").then(t=>t.RegisterPage)}]},{path:"",canActivate:[x],loadComponent:()=>import("./chunk-JCID656U.js").then(t=>t.LayoutComponent),children:[{path:"dashboard",loadComponent:()=>import("./chunk-GPXEHJSC.js").then(t=>t.DashboardPage)},{path:"profile",loadComponent:()=>import("./chunk-P2L252XG.js").then(t=>t.ProfilePage)},{path:"contributions",loadComponent:()=>import("./chunk-5ZLHBMKK.js").then(t=>t.ContributionsPage)},{path:"debts",loadComponent:()=>import("./chunk-IEORCRWF.js").then(t=>t.DebtsPage)},{path:"admin",canActivate:[R],children:[{path:"users",loadComponent:()=>import("./chunk-GKQZDBM7.js").then(t=>t.AdminUsersPage)},{path:"users/:id",loadComponent:()=>import("./chunk-3EHLK3J5.js").then(t=>t.AdminUserDetailPage)},{path:"categories",loadComponent:()=>import("./chunk-N6A6C3U3.js").then(t=>t.AdminCategoriesPage)},{path:"invitations",loadComponent:()=>import("./chunk-HA32LDMR.js").then(t=>t.AdminInvitationsPage)},{path:"notifications",loadComponent:()=>import("./chunk-BRGCBAIY.js").then(t=>t.AdminNotificationsPage)}]}]},{path:"**",redirectTo:"dashboard"}];var G=(t,a)=>{let o=e(i).getToken();if(o){let n=t.clone({setHeaders:{Authorization:`Bearer ${o}`}});return a(n)}return a(t)};var T=(t,a)=>{let r=e(p),o=e(i);return a(t).pipe(c(n=>{n.status===401&&(o.logout(),r.navigate(["/auth/login"]));let m="An error occurred";return n.error?.message?m=n.error.message:n.error?.errors?.length?m=n.error.errors.join(", "):n.message&&(m=n.message),console.error("HTTP Error:",m),s(()=>new Error(m))}))};var w={providers:[l({eventCoalescing:!0}),A(D,P()),v(C([G,T])),I({mode:"ios"})]};var y=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(o,n){o&1&&(d(0,"ion-app"),f(1,"ion-router-outlet"),h())},dependencies:[b,S],encapsulation:2})}return t})();g(y,w).catch(t=>console.error(t));
